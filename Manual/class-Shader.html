<!DOCTYPE html><html class="no-js">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-MC35ML');
    </script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<meta property="og:title" content="着色器资源 - Unity Manual">
<title>着色器资源 - Unity Manual</title>
<meta property="og:image" content="https://docs.unity3d.com/zh_CN/5.6/uploads/Shaders/Inspector-Shader.png">
<meta name="description" content="着色器是包含显卡执行代码和指令的资源。
材质将引用着色器并设置其参数（纹理、颜色等）。">
<meta property="og:description" content="着色器是包含显卡执行代码和指令的资源。
材质将引用着色器并设置其参数（纹理、颜色等）。">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script>
      var docs_type = 'Manual';
      var lang = 'zh_CN';
      var page = 'class-Shader';
      if(!page) page = 'index';
      var version = '560';
      var docs_versions = [{version: '2019.1',version_string: '2019.1'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},{version: '5.5',version_string: '550'},{version: '5.4',version_string: '540'},{version: '5.3',version_string: '530'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MC35ML" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="http://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>5.6</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/class-Shader.html">2019.1</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/class-Shader.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/class-Shader.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/class-Shader.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/class-Shader.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/class-Shader.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/class-Shader.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/class-Shader.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/class-Shader.html">5.6</a></li>
<li><a class="docs_version_url_550" href="/zh_CN/550/Manual/class-Shader.html">5.5</a></li>
<li><a class="docs_version_url_540" href="/zh_CN/540/Manual/class-Shader.html">5.4</a></li>
<li><a class="docs_version_url_530" href="/zh_CN/530/Manual/class-Shader.html">5.3</a></li>
</ul></div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/560/Documentation/Manual/class-Shader.html">English</a></li>
<li><a data-lang="ja" href="/ja/560/Manual/class-Shader.html">日本語</a></li>
<li><a data-lang="es" href="/es/560/Manual/class-Shader.html">Español</a></li>
<li><a data-lang="kr" href="/kr/560/Manual/class-Shader.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>Manual</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>5.6</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/class-Shader.html">2019.1</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/class-Shader.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/class-Shader.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/class-Shader.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/class-Shader.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/class-Shader.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/class-Shader.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/class-Shader.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/class-Shader.html">5.6</a></li>
<li><a class="docs_version_url_550" href="/zh_CN/550/Manual/class-Shader.html">5.5</a></li>
<li><a class="docs_version_url_540" href="/zh_CN/540/Manual/class-Shader.html">5.4</a></li>
<li><a class="docs_version_url_530" href="/zh_CN/530/Manual/class-Shader.html">5.3</a></li>
</ul></div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (5.6)</a></li>
<li><a href="Graphics.html">图形</a></li>
<li><a href="GraphicsReference.html">图形参考</a></li>
<li><a href="SL-Reference.html">着色器参考</a></li>
<li>着色器资源</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="SL-Other.html"></a></span><div class="tip">ShaderLab：其他命令</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="SL-AdvancedTopics.html"></a></span><div class="tip">高级 ShaderLab 主题</div>
</div>
</div></div>
<h1>着色器资源</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>着色器是包含显卡执行代码和指令的资源。
<a href="class-Material.html">材质</a>将引用着色器并设置其参数（纹理、颜色等）。</p>

<p>Unity contains some built-in shaders that are always available in your project (for example, the <a href="shader-StandardShader.html">Standard shader</a>). You can also <a href="ShadersOverview.html">write your own shaders</a> and apply <a href="PostProcessingOverview.html">post-processing effects</a>.</p>

<h2>创建新着色器</h2>

<p>To create a new Shader, use <strong>Assets</strong> &gt; <strong>Create</strong> &gt; <strong>Shader</strong> from the main menu or the <strong>Project View</strong> context menu. A shader is a text file similar to a C# script, and is written in a combination of Cg/HLSL and ShaderLab languages (see <a href="ShadersOverview.html">writing shaders</a> page for details).</p>

<figure>
<img src="../uploads/Shaders/Inspector-Shader.png" alt="着色器检视面板 (Shader Inspector)。">
<figcaption>着色器检视面板 (Shader Inspector)。</figcaption>
</figure>

<h3>着色器导入设置</h3>

<p>This inspector section allows specifying default textures for a shader. Whenever a new <a href="class-Material.html">Material</a> is created with this shader, these textures are automatically assigned.</p>

<h3>着色器检视面板</h3>

<p>The Shader Inspector displays basic information about the shader (mostly <a href="SL-SubShaderTags.html">shader tags</a>), and allows compiling and inspecting low-level compiled code.</p>

<p>For <a href="SL-SurfaceShaders.html">Surface Shaders</a>, the <strong>Show generated code</strong> button displays all the code that Unity generates to handle lighting and shadowing. If you really want to customize the generated code, you can just copy and paste all of it back to your original shader file and start tweaking.</p>

<figure>
<img src="../uploads/Shaders/Inspector-ShaderCompilePopup.png" alt="着色器编译弹出菜单。">
<figcaption>着色器编译弹出菜单。</figcaption>
</figure>

<p>The pop-up menu of the <strong>Compile and show code</strong> button allows inspecting final compiled shader code (e.g. assembly on Direct3D9, or low-level optimized GLSL for OpenGL ES) for selected platforms. This is mostly useful while optimizing shaders for performance; often you do want to know how many low-level instructions here generated in the end.</p>

<p>The low-level generated code is useful for pasting into GPU shader performance analysis tools (like <a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-shaderanalyzer/">AMD GPU ShaderAnalyzer</a> or <a href="http://community.imgtec.com/developers/powervr/tools/pvrshadereditor/">PVRShaderEditor</a>).</p>

<h2>着色器编译详细信息</h2>

<p>On shader import time, Unity does not compile the whole shader. This is because majority of shaders have a lot of <a href="SL-MultipleProgramVariants.html">variants</a> inside, and compiling all of them, for all possible platforms, would take a very long time. Instead, this is done:</p>

<ul>
<li>在导入时，仅对着色器进行最低限度的处理（表面着色器生成等）。</li>
<li>只在需要时实际编译着色器变体。</li>
<li>不会在导入时执行编译 100–10000 个内部着色器的典型工作，此过程通常最终只编译少数着色器。</li>
</ul>

<p>在播放器构建时，所有“尚未编译”的着色器变体都将被编译，因此即使 Editor 不会使用这些着色器变体，它们也会存在于游戏数据中。</p>

<p>However, this does mean that a shader might have an error in there, which is not detected at shader import time. For example, you’re running editor using Direct3D 11, but a shader has an error if compiled for OpenGL. Or some <a href="SL-MultipleProgramVariants.html">variants</a> of the shader does not fit into shader model 2.0 instruction limits, etc. These errors will be shown in the inspector if editor needs them; but it’s also a good practice to manually fully compile the shader for platforms you need, to check for errors. This can be done using the <strong>Compile and show code</strong> pop-up menu in the shader inspector.</p>

<p>Shader compilation is carried out using a background process named <code>UnityShaderCompiler</code> that is started by Unity whenever it needs to compile shaders. Multiple compiler processes can be started (generally one per CPU core in your machine), so that at player build time shader compilation can be done in parallel. While the editor is not compiling shaders, the compiler processes do nothing and do not consume computer resources, so there’s no need to worry about them. They are also shut down when Unity editor quits.</p>

<p>Individual shader variant compilation results are cached in the project, under <code>Library/ShaderCache</code> folder. This means that 100% identical shaders or their snippets will reuse previously compiled results. It also means that the shader cache folder can become quite large, if you have a lot of shaders that are changed often. It is always safe to delete it; it will just cause shader variants to be recompiled.</p>

<h2>阅读更多信息</h2>

<ul>
<li>
<a href="class-Material.html">材质</a>资源。</li>
<li>
<a href="ShadersOverview.html">编写着色器概述</a>。</li>
<li>
<a href="SL-Reference.html">着色器参考</a>。</li>
</ul>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="SL-Other.html"></a></span><div class="tip">ShaderLab：其他命令</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="SL-AdvancedTopics.html"></a></span><div class="tip">高级 ShaderLab 主题</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">Copyright © 2017 Unity Technologies. Publication 5.6</div>
<div class="menu">
<a href="http://unity3d.com/learn">Tutorials</a><a href="http://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="http://forum.unity3d.com">Forums</a><a href="http://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
