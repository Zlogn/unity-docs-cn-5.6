<!DOCTYPE html><html class="no-js">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-MC35ML');
    </script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<meta property="og:title" content="Windows Store Apps: Missing .NET Types on .NET Scripting Backend - Unity Manual">
<title>Windows Store Apps: Missing .NET Types on .NET Scripting Backend - Unity Manual</title>
<meta name="description" content="The .NET scripting backend that is used on Windows Store is a special .NET version for this platform, which is not entirely compatible with Mono. In particular some data types are missing and some other classes don&amp;#8217;t have certain methods, that the same classes do have in Mono.">
<meta property="og:description" content="The .NET scripting backend that is used on Windows Store is a special .NET version for this platform, which is not entirely compatible with Mono. In particular some data types are missing and some other classes don&amp;#8217;t have certain methods, that the same classes do have in Mono.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script>
      var docs_type = 'Manual';
      var lang = 'zh_CN';
      var page = 'windowsstore-missingtypes';
      if(!page) page = 'index';
      var version = '560';
      var docs_versions = [{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MC35ML" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="http://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>5.6</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/windowsstore-missingtypes.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/windowsstore-missingtypes.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/windowsstore-missingtypes.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/windowsstore-missingtypes.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/windowsstore-missingtypes.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/windowsstore-missingtypes.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/windowsstore-missingtypes.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/windowsstore-missingtypes.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/windowsstore-missingtypes.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/windowsstore-missingtypes.html">5.6</a></li>
</ul></div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/560/Documentation/Manual/windowsstore-missingtypes.html">English</a></li>
<li><a data-lang="ja" href="/ja/560/Manual/windowsstore-missingtypes.html">日本語</a></li>
<li><a data-lang="es" href="/es/560/Manual/windowsstore-missingtypes.html">Español</a></li>
<li><a data-lang="kr" href="/kr/560/Manual/windowsstore-missingtypes.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>Manual</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>5.6</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/windowsstore-missingtypes.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/windowsstore-missingtypes.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/windowsstore-missingtypes.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/windowsstore-missingtypes.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/windowsstore-missingtypes.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/windowsstore-missingtypes.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/windowsstore-missingtypes.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/windowsstore-missingtypes.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/windowsstore-missingtypes.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/windowsstore-missingtypes.html">5.6</a></li>
</ul></div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (5.6)</a></li>
<li><a href="PlatformSpecific.html">特定于平台的信息</a></li>
<li><a href="Windows.html">Windows</a></li>
<li><a href="WindowsStore.html">Windows Store Apps</a></li>
<li><a href="windowsstore-scriptingbackends.html">脚本后端</a></li>
<li><a href="windowsstore-dotnet.html">Windows Store: .NET Scripting Backend</a></li>
<li>Windows Store Apps: Missing .NET Types on .NET Scripting Backend</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="windowsstore-projecttypes.html"></a></span><div class="tip">Windows Store Apps: Generated project with .NET scripting backend</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="windowsstore-plugins.html"></a></span><div class="tip">Windows Store Apps: Plugins on .NET Scripting Backend</div>
</div>
</div></div>
<h1>Windows Store Apps: Missing .NET Types on .NET Scripting Backend</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>The .NET scripting backend that is used on Windows Store is a special .NET version for this platform, which is not entirely compatible with Mono. In particular some data types are missing and some other classes don’t have certain methods, that the same classes do have in Mono.</p>

<p>To make porting existing games to Windows Store easier, some of the missing .NET types are provided by Unity. In addition some extension methods and replacement types were added to make migration easier.</p>

<p>These types are placed in <strong>PlaybackEngines\metrosupport\Managed\WinRTLegacy.dll</strong>, every Windows Store SDK has its own WinRTLegacy.dll.</p>

<p>Unity 提供的类型包括：</p>

<ul>
<li>System.Collections.ArrayList</li>
<li>System.Collections.Hashtable</li>
<li>System.Collections.Queue</li>
<li>System.Collections.SortedList</li>
<li>System.Collections.Stack</li>
<li>System.Collections.Specialized.HybridDictionary</li>
<li>System.Collections.Specialized.ListDictionary</li>
<li>System.Collections.Specialized.NameValueCollection</li>
<li>System.Collections.Specialized.OrderedDictionary</li>
<li>System.Collections.Specialized.StringCollection</li>
<li>System.IO.Directory</li>
<li>System.IO.File</li>
<li>System.IO.FileStream</li>
<li>System.Xml.XmlDocument</li>
<li>System.Xml.XmlTextReader</li>
<li>System.Xml.XmlTextWriter</li>
</ul>

<p>除此之外，还添加了命名空间 WinRTLegacy 以提供更多类和扩展方法。其中包括：</p>

<ul>
<li>Extention methods Close() for most System.IO classes (alternatively you can use Dispose(), which is available on both Mono and .NET for Windows Store Apps)</li>
<li>WinRTLegacy.TypeExtensions 具有 System.Type 的方法 GetConstructor()、GetMethod() 和 GetProperty()</li>
<li>WinRTLegacy.IO.StreamReader 类，与 Mono System.IO.StreamReader 兼容</li>
<li>WinRTLegacy.IO.StreamWriter 类，与 Mono System.IO.StreamWriter 兼容</li>
<li>WinRTLegacy.Xml.XmlReader 类，与 Mono System.Xml.XmlReader 兼容</li>
<li>WinRTLegacy.Xml.XmlWriter 类，与 Mono System.Xml.XmlWriter 兼容</li>
</ul>

<p>The simplest way to use the replacement classes from WinRTLegacy is via using directive:</p>

<pre><code class="C#"># if NETFX_CORE
using XmlReader = WinRTLegacy.Xml.XmlReader;
# else
using XmlReader = System.Xml.XmlReader;
# endif
</code></pre>

<p>This way you can use XmlReader class, which will be taken from WinRTLegacy.Xml namespace on Windows Store and from System.Xml namespace elsewhere.</p>

<h3>Universal Windows 10 Apps</h3>

<p>Some of the types were brought back to .NET for Universal Windows 10 Apps, thus implementations for these types were removed in WinRTLegacy.dll</p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="windowsstore-projecttypes.html"></a></span><div class="tip">Windows Store Apps: Generated project with .NET scripting backend</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="windowsstore-plugins.html"></a></span><div class="tip">Windows Store Apps: Plugins on .NET Scripting Backend</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">Copyright © 2017 Unity Technologies. Publication 5.6</div>
<div class="menu">
<a href="http://unity3d.com/learn">Tutorials</a><a href="http://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="http://forum.unity3d.com">Forums</a><a href="http://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
