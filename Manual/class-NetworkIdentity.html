<!DOCTYPE html><html class="no-js">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<meta property="og:title" content="NetworkIdentity - Unity Manual">
<title>NetworkIdentity - Unity Manual</title>
<meta property="og:image" content="https://docs.unity3d.com/zh_CN/5.6/uploads/Main/NetworkIdentityScreenshot.png">
<meta name="description" content="The NetworkIdentity component is a Unity component that is at the heart of the new networking system. It can be added to objects from the AddComponents-&gt;Network-&gt;NetworkIdentity menu item. This component controls an object&amp;#8217;s network identity, and it makes the networking system aware of it. This shows what the NetworkIdentity component looks like on an object:">
<meta property="og:description" content="The NetworkIdentity component is a Unity component that is at the heart of the new networking system. It can be added to objects from the AddComponents-&gt;Network-&gt;NetworkIdentity menu item. This component controls an object&amp;#8217;s network identity, and it makes the networking system aware of it. This shows what the NetworkIdentity component looks like on an object:">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script>
      var docs_type = 'Manual';
      var lang = 'zh_CN';
      var page = 'class-NetworkIdentity';
      if(!page) page = 'index';
      var version = '560';
      var docs_versions = [{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="http://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>5.6</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/class-NetworkIdentity.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/class-NetworkIdentity.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/class-NetworkIdentity.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/class-NetworkIdentity.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/class-NetworkIdentity.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/class-NetworkIdentity.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/class-NetworkIdentity.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/class-NetworkIdentity.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/class-NetworkIdentity.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/class-NetworkIdentity.html">5.6</a></li>
</ul></div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/560/Documentation/Manual/class-NetworkIdentity.html">English</a></li>
<li><a data-lang="ja" href="/ja/560/Manual/class-NetworkIdentity.html">日本語</a></li>
<li><a data-lang="es" href="/es/560/Manual/class-NetworkIdentity.html">Español</a></li>
<li><a data-lang="kr" href="/kr/560/Manual/class-NetworkIdentity.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>Manual</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>5.6</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/class-NetworkIdentity.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/class-NetworkIdentity.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/class-NetworkIdentity.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/class-NetworkIdentity.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/class-NetworkIdentity.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/class-NetworkIdentity.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/class-NetworkIdentity.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/class-NetworkIdentity.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/class-NetworkIdentity.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/class-NetworkIdentity.html">5.6</a></li>
</ul></div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (5.6)</a></li>
<li><a href="UNet.html">多玩家和联网</a></li>
<li><a href="UNetReference.html">Networking Reference</a></li>
<li>NetworkIdentity</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-NetworkDiscovery.html"></a></span><div class="tip">NetworkDiscovery </div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="class-NetworkLobbyManager.html"></a></span><div class="tip">Network Lobby Manager</div>
</div>
</div></div>
<h1>NetworkIdentity</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>The NetworkIdentity component is a Unity component that is at the heart of the new networking system. It can be added to objects from the AddComponents-&gt;Network-&gt;NetworkIdentity menu item. This component controls an object’s network identity, and it makes the networking system aware of it. This shows what the NetworkIdentity component looks like on an object:</p>

<figure>
<img src="../uploads/Main/NetworkIdentityScreenshot.png" alt="">
</figure>

<p>With the server authoritative system of the Unity Network System, networked objects with NetworkIdentities must be “spawned” by the server using NetworkServer.Spawn(). This causes them to be assigned a NetworkInstanceId and be created on clients that are connected to the server. </p>

<p>Scene objects are treated a bit differently than dynamically instantiated objects. These objects are all present in the scene on both client and server. However, when building the game all the scene objects with network identities are disabled. When the client connects to the server the server tells the client which scene objects should be enabled and what their most up to date state information is through spawn messages. This ensures the client will not contain objects placed at now incorrect locations when they start playing, or even objects which will be deleted immediately on connection because some event removed them before the client connected. The <strong>Server Only</strong> checkbox will ensure this a particular object will not be spawned or enabled on clients. </p>

<p>The <strong>local player authority</strong> setting allows this object to be controlled by the client that owns it - the local player object on that client has authority over it. This is used by other components such as NetworkTransform.</p>

<p>This component contains tracking information like what scene ID, network ID and asset ID the object has been assigned. The scene ID is valid in all scene objects with a NetworkIdentity component. The network ID is the ID of this particular object instance, there might be multiple objects instantiated of a particular object type and the network ID is used to identity which object, for example, a network update should be applied to. The asset ID refers to what source asset the object was instantiated from. This is used internally when an particular object prefab is spawned over the network. This information is exposed in the preview panel at the bottom of the inspector:</p>

<figure>
<img src="../uploads/Main/NetworkIdentityPreview.png" alt="">
</figure>

<p>在运行时，此处将显示更多信息（禁用的 NetworkBehaviour 以非粗体显示）：</p>

<figure>
<img src="../uploads/Main/NetworkIdentityPreviewRuntime.png" alt="">
</figure>

<h2>属性</h2>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong><em>属性：</em></strong></th>
	<th style="text-align:left;"><strong><em>功能：</em></strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>assetId</strong></td>
	<td style="text-align:left;">标识与此对象关联的预制件（用于生成）。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>clientAuthorityOwner</strong></td>
	<td style="text-align:left;">对该对象拥有授权的客户端。如果没有客户端拥有授权，则此属性为 null。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>connectionToClient</strong></td>
	<td style="text-align:left;">The connection associated with this NetworkIdentity. This is only valid for player objects on the server.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>connectionToServer</strong></td>
	<td style="text-align:left;">The UConnection associated with this NetworkIdentity. This is only valid for player objects on a local client.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>hasAuthority</strong></td>
	<td style="text-align:left;">True if this object is the authoritative version of the object. So either on a the server, or on the client with localPlayerAuthority.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>isClient</strong></td>
	<td style="text-align:left;">如果此对象在客户端上运行，则为 true。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>isLocalPlayer</strong></td>
	<td style="text-align:left;">如果此对象代表本地计算机上的玩家，则返回 true。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>isServer</strong></td>
	<td style="text-align:left;">如果此对象在服务器上运行并且已生成，则为 true。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>localPlayerAuthority</strong></td>
	<td style="text-align:left;">如果此对象由拥有此对象的客户端控制，则为 true - 该客户端上的本地玩家对象具有针对此对象的授权。由 NetworkTransform 等其他组件使用。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>netId</strong></td>
	<td style="text-align:left;">此网络会话的唯一标识符，在生成时分配。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>observers</strong></td>
	<td style="text-align:left;">能够看到此对象的客户端 NetworkConnection 列表。此属性为只读。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>playerControllerId</strong></td>
	<td style="text-align:left;">与此对象关联的控制器的标识符。仅对玩家对象有效。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>sceneId</strong></td>
	<td style="text-align:left;">A unique identifier for networked objects in a scene. This is only populated in play-mode.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>serverOnly</strong></td>
	<td style="text-align:left;">此标志用于指示不在客户端上生成该对象。</td>
</tr>
</tbody>
</table>

<h2>提示</h2>

<ul>
<li>Put a NetworkIdentity component on prefabs that will be spawned.</li>
<li>A NetworkIdentity is required for every object that is networked.</li>
</ul>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-NetworkDiscovery.html"></a></span><div class="tip">NetworkDiscovery </div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="class-NetworkLobbyManager.html"></a></span><div class="tip">Network Lobby Manager</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">Copyright © 2017 Unity Technologies. Publication 5.6</div>
<div class="menu">
<a href="http://unity3d.com/learn">Tutorials</a><a href="http://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="http://forum.unity3d.com">Forums</a><a href="http://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
